<!DOCTYPE html>

<html lang="en">

  <head>

    <!-- Set Webpage Title and Icon (Favicon)-->
    <title>FitPredict</title>
    <link rel="icon" type="image/x-icon" href="./assets/report logi.png">

    <!-- Webpage Setup-->
    <meta charset="UTF-8">

    <!-- Links (1) CSS (2) JS (3) External Libraries, Fonts, Etc.-->
    <script defer type="module" src="js/predict_output.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">

    <!-- Link the pyscript, it is configured with a json that links files and downloads packages.-->
    <!-- 
    Pyscript Tutorials used: 
    [1] https://github.com/Cheukting/pyscript-tutorial/blob/main/chapter_1/template.html
    [2] https://www.youtube.com/watch?v=wHKWT3eJ_5U
    [3] https://docs.pyscript.net/2024.11.1/beginning-pyscript/
    [4] https://docs.pyscript.net/2023.12.1/user-guide/configuration/
    --> 
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.11.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.11.1/core.js"></script>

    <!-- Citation for image information icon -->
    <!-- Info Icon: https://commons.wikimedia.org/wiki/File:Circle_info_blue.svg -->

  </head>

  <!-- Prediction Output Page of FitPredict Website-->
  <body>

    <!-- Header of the Webpage. Includes title and navigation-->
    <header class="nav-header">
  
      <!-- Set the logo of the webpage, that will direct back to the index.html main page-->
      <div class = "brand-logo">
        <a href="./index.html">
          <img src="./assets/header logo.png" alt="FitPredict logo, clicking takes to home page" class="brand-logo">
        </a>
      </div>

      <!-- Navigation Bar including "Predict", "About", "ML Model", and "Contact Us", and "Demo" Sections-->
      <nav class="nav-content">
        <div class="nav-menu" role="navigation">
          <a href="./predict_input.html" class="nav-link">Predict</a>
          <a href="./about.html" class="nav-link">About</a>
          <a href="./model.html" class="nav-link">ML Model</a>
          <a href="mailto:yaorans@andrew.cmu.edu" target="_blank" class="nav-link">Contact Us</a>
          <a class="demo-button" href="https://www.youtube.com/watch?v=biUTwQH4bgQ" target="_blank">Demo</a>
        </div>
      </nav>

    </header>
    
    <!-- Setup styling for background/border of the input form -->
    <div class="survey-container">

      <!-- Setup a "progress bar" that shows what stage of the prediction you are in (in this case, the output) -->
      <div class="input-progress-container">
        <div class="tab-inactive">General Information</div>
        <p class="dash">----------------</p>
        <div class="tab-active">Body Report</div>
      </div>

      <!-- Set up a section that provides a disclaimer and intro to the model output preidctions-->
      <div class="overview-container">

        <!-- Disclaimer Text -->
        <div class="user-info-column">
            <div class="welcome-container">
            <h1 class="welcome-heading" id="name-info"></h1>
            <p class="disclaimer-text">
                The predictions in this report are generated using machine learning
                models. It is important to remember that they are estimates, not
                absolute truths. Let these metrics motivate you to set achievable
                goals and celebrate your progress along the way. Please do not rely on
                these predictions for medical advice or major life decisions.
                Remember, you are more than just numbers.
            </p>
            </div>
        </div>

        <!-- FitPredict Logo -->
        <div class="avatar-column">
            <img loading="lazy" src="./assets/report logi.png" class="user-avatar" alt="User profile avatar" />
        </div>

        <!-- Repeat the user input in a stylized form, including units (metric/imperial based on user input) -->
        <div class="stats-column">
            <div class="user-input-container">
              <div>
                <p>Sex: </p>
                <p>Age: </p>
                <p>Weight: </p>
                <p>Height: </p>
              </div>
              <div>
                <p class = "user-info" id = "sex-info">test</p>
                <p class = "user-info" id = "age-info">test</p>
                <p class = "user-info" id = "weight-info">test</p>
                <p class = "user-info" id = "height-info">test</p>
              </div>
            </div>
        </div>
      </div>

      <!-- Include a page section that matches the styling of the results. contains a gif and message while model is running. hidden on model complete -->
      <div class="results-container" id="loading-screen">

        <div class="model-load">

          <!-- https://www.google.com/url?sa=i&url=http%3A%2F%2Fwww.caster.com.br%2Fdev%2Fblue-loading-gif-transparent-1%2F&psig=AOvVaw3eAyMa-xgVJ727oK8g9Xg8&ust=1733623216931000&source=images&cd=vfe&opi=89978449&ved=0CBQQjhxqFwoTCPj12vTHlIoDFQAAAAAdAAAAABAE -->
          <!-- <img src="./assets/loading.gif" alt="loading icon indicating model is running"> -->
          <div id="loading-gif"></div>  

          <p class = "load-message" id="load-message">Running Model. Please wait a moment.</p>

        </div>
  
      </div>

      <!-- First results section (body metrics) loads on model complete after loading message is hidden -->
      <div class="results-container" id="model-results">
        
        <div class="model-predictions"> 
        
          <h2 class="metrics-title">Basic Body Data Prediction</h2>

          <div class="metrics-grid">
            
              <!-- Results and title for body fat percentage -->
              <div class="metric-column">
                  <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Body Fat Percentage</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for Body fat percentage" />
                      </a>   
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-bodyfatpercent"></span>
                      <span class="metric-unit">%</span>
                  </div>
                </div>
              </div>

              <!-- Results and title for body fat weight -->              
              <div class="metric-column">
                <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Body Fat Weight</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for Body fat weight" />
                      </a>  
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-bodyfatweight"></span>
                      <span class="metric-unit" id="result-bodyfatweight-unit">kg</span>
                  </div>
                </div>
              </div>

              <!-- Results and title for fat free body weight -->
              <div class="metric-column">
                <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Fat Free Body Weight</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for fat free body weight" />
                      </a>   
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-fatfreebodyweight"></span>
                      <span class="metric-unit" id="result-fatfreebodyweight-unit">kg</span>
                  </div>
                </div>
              </div>
            
              <!-- Results and title for BMI -->
              <div class="metric-column">
                <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Body Mass Index (BMI)</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for bmi" />
                      </a>   
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-bmi"></span>
                      <span class="metric-unit">%</span>
                  </div>
                </div>
              </div>

              <!-- Results and title for BMR -->
              <div class="metric-column">
                <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Body Metabolic Rate (BMR)</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for bmr" />
                      </a>   
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-bmr"></span>
                      <span class="metric-unit">calories/day</span>
                  </div>
                </div>
              </div>

              <!-- Results and title for body water percentage-->
              <div class="metric-column">
                <div class="metric-card">
                  <div class="metric-header">
                      <span class="metric-title">Body Water Percentage</span>
                      <a href="./model.html" class="tooltip">
                        <span class="tooltiptext">See ML Model Description</span>
                        <img src="./assets/info.png" class="metric-icon" alt="Additional information for total body water" />
                      </a>   
                  </div>
                  <div class="metric-value-wrapper">
                      <span class="metric-value" id="result-bodywater"></span>
                      <span class="metric-unit">%</span>
                  </div>
                </div>
              </div>
            
          </div>
        
        </div>

      </div>

      <!-- Second results section (fitness prediction) loads on model complete after loading message is hidden -->
      <div class="results-container" id="fitness-results">
        
        <div class="model-predictions"> 
        
          <h2 class="metrics-title">Fitness Prediction</h2>

          <div class="fitness-predictions">

            <div class="fitness-grid">
              
                <!-- Results and title for ideal workout type prediction -->
                <div class="metric-column">
                  <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-title">Best Workout Type</span>
                        <a href="./model.html" class="tooltip">
                          <span class="tooltiptext">See ML Model Description</span>
                          <img src="./assets/info.png" class="metric-icon" alt="Additional information for recommended workout type" />
                        </a>    
                    </div>
                    <div class="metric-value-wrapper">
                        <span class="metric-value" id="result-fitnesstype"></span>   
                    </div>
                  </div>
                </div>

                <!-- Results and title for ideal workout duration prediction -->
                <div class="metric-column">
                  <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-title">Best Workout Duration</span>
                        <a href="./model.html" class="tooltip">
                          <span class="tooltiptext">See ML Model Description</span>
                          <img src="./assets/info.png" class="metric-icon" alt="Additional information for recommended workout duration" />
                        </a>  
                    </div>
                    <div class="metric-value-wrapper">
                        <span class="metric-value" id="result-fitnessduration"></span>
                        <span class="metric-unit">hrs</span>
                    </div>
                  </div>
                </div>        

                <!-- Results and title for ideal workout frequencty -->
                <div class="metric-column">
                  <div class="metric-card">
                    <div class="metric-header">
                        <span class="metric-title">Best Workout Frequency</span>
                        <a href="./model.html" class="tooltip">
                          <span class="tooltiptext">See ML Model Description</span>
                          <img src="./assets/info.png" class="metric-icon" alt="Additional information for recommended workout frequency" />
                        </a>   
                    </div>
                    <div class="metric-value-wrapper">
                        <span class="metric-value" id="result-fitnessfreq"></span>
                        <span class="metric-unit">times/wk</span>
                    </div>
                  </div>
                </div>
              
            </div>

            <!-- Icon that is programatically added based on recommended workout type. Filled using pyscript -->
            <div class="metric-column image-card" id="fitnesstype-icon"></div>

          </div>

        </div>

      </div>

      <!-- Run the Python script linked from PyScript -->
      <script type="py" src="./Model.py" config="./pyscript.json"></script>

    </div>

  </body>

</html>